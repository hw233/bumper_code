{"version":3,"sources":["WXHelper.ts"],"names":[],"mappings":";;;;;AAAA,yCAAoC;AACpC;IAAA;IAqDA,CAAC;IAnDiB,oBAAW,GAAzB;QAEI,IAAI,aAAa,EACjB;YACI,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAEa,mBAAU,GAAxB,UAAyB,SAAS;QAE9B,EAAE,CAAC,WAAW,CAAC;YACX,eAAe,EAAE,KAAK;YACtB,UAAU,EAAE,CAAC,YAAY,CAAC;YAC1B,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE;gBACF,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACxB,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;IAED,cAAc;IACA,0BAAiB,GAA/B,UAAgC,QAAQ,EAAE,OAAO;QAE7C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,mBAAS,CAAC,gBAAgB,CAAC,CAAC;QAExD,EAAE,CAAC,oBAAoB,CAAC;YACpB,WAAW,EAAE,mBAAS,CAAC,gBAAgB;YACvC,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,OAAO;YAChB,IAAI,EAAE,UAAS,GAAG;gBACd,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;YACvC,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;IAED,WAAW;IACG,2BAAkB,GAAhC,UAAiC,QAAQ,EAAE,OAAO;QAE9C,EAAE,CAAC,qBAAqB,CAAC;YACrB,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,UAAA,GAAG;gBACR,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAC;gBACrD,OAAO,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC;YACD,IAAI,EAAE,UAAA,GAAG;gBACL,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;YACtD,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;IACL,eAAC;AAAD,CArDA,AAqDC,IAAA","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["import GlobalVar from './GlobalVar';\r\nexport default class WXHelper\r\n{\r\n    public static IsWXContext()\r\n    {\r\n        if (CC_WECHATGAME) \r\n        {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static GetUseInfo(successCb)\r\n    {\r\n        wx.getUserInfo({\r\n            withCredentials: false,\r\n            openIdList: ['selfOpenId'],\r\n            lang: \"zh_CN\",\r\n            success: successCb,\r\n            fail: function(){\r\n                cc.log(\"获取用户信息失败:\");\r\n            }\r\n        });\r\n    }\r\n\r\n    //获取群同玩成员的游戏数据\r\n    public static GetGroupCloudData(keyArray, success)\r\n    {\r\n        console.log(\"shareTicket:\", GlobalVar.groupShareTicket);\r\n\r\n        wx.getGroupCloudStorage({\r\n            shareTicket: GlobalVar.groupShareTicket,\r\n            keyList: keyArray,\r\n            success: success,\r\n            fail: function(res){\r\n                console.log(\"Rank:获取群的信息失败:\", res);\r\n            }\r\n        });\r\n    }\r\n\r\n    //获取好友的游戏数据\r\n    public static GetFriendCloudData(keyArray, success)\r\n    {\r\n        wx.getFriendCloudStorage({\r\n            keyList: keyArray,\r\n            success: res => {\r\n                console.log(\"wx.getFriendCloudStorage success\", res);\r\n                success(res);\r\n            },\r\n            fail: res => {\r\n                console.log(\"wx.getFriendCloudStorage fail\", res);\r\n            },\r\n        });\r\n    }\r\n}"]}