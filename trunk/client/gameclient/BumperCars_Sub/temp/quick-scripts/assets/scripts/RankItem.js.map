{"version":3,"sources":["RankItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["import Common from './Common';\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RankItem extends cc.Component\r\n{\r\n    @property(cc.Node)\r\n    private bgImg: cc.Node = null;      //背景图\r\n\r\n    @property(cc.Node)\r\n    private cupImg: cc.Node = null;     //奖杯\r\n\r\n    @property(cc.Node)\r\n    private headImg: cc.Node = null;    //头像\r\n\r\n    @property(cc.Node)\r\n    private playerName: cc.Node = null; //昵称\r\n\r\n    @property(cc.Node)\r\n    private rankNum: cc.Node = null;    //排名\r\n\r\n    @property(cc.Node)\r\n    private killRank: cc.Node = null;    //击杀排名\r\n\r\n    @property(cc.Node)\r\n    private gradingRank: cc.Node = null;    //段位排名\r\n\r\n    start () \r\n    {\r\n\r\n    }\r\n\r\n    initView(rank: number, data: any, type: number, isme: boolean = false)\r\n    {\r\n        if(rank <= 3 || data.is_rank === false)\r\n        {\r\n            this.cupImg.active = true;\r\n            this.rankNum.active = false;\r\n            if(data.is_rank === false){\r\n                Common.SetNodeTexture(this.cupImg, \"bw\");\r\n            }else{\r\n                Common.SetNodeTexture(this.cupImg, \"No\" + rank);\r\n            }\r\n        }else\r\n        {\r\n            this.rankNum.active = true;\r\n            this.cupImg.active = false;\r\n            Common.SetNodeText(this.rankNum, rank.toString());\r\n        }\r\n\r\n        if(isme){\r\n            Common.SetNodeTexture(this.bgImg, \"paimingtiao-B\");\r\n        }\r\n\r\n\r\n        if(type == 1)\r\n        {\r\n            //击杀排名\r\n            this.gradingRank.active = false;\r\n            this.killRank.active = true;\r\n\r\n            Common.SetNodeText(this.killRank.getChildByName(\"Num\"), data.score);\r\n        }else if(type == 2){\r\n            //段位排名\r\n            this.gradingRank.active = true;\r\n            this.killRank.active = false;\r\n\r\n            var curGradingID = Math.floor(data.score / 25) + 1;\r\n\r\n            var fileName = 'Grading_' + curGradingID;\r\n\r\n            Common.SetNodeTexture(this.gradingRank.getChildByName(\"Icon\"), fileName);\r\n            Common.SetNodeText(this.gradingRank.getChildByName(\"Num\"), (data.score % 25).toString() );\r\n        }\r\n\r\n        \r\n        //限制昵称最大为10个字符\r\n        var nickname = Common.GetByteVal(data.nickname, 10);\r\n\r\n        Common.CreateImage(this.headImg, data.avatarUrl);\r\n        Common.SetNodeText(this.playerName, nickname);\r\n    }\r\n}"]}