{"version":3,"sources":["RankListBase.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAA0C,gCAAY;IADtD;QAAA,qEAkEC;QA9Da,uBAAiB,GAAkB,IAAI,CAAC;QAGxC,uBAAiB,GAAY,IAAI,CAAC;QAGlC,oBAAc,GAAc,IAAI,CAAC;;IAwD/C,CAAC;IAtDa,6BAAM,GAAhB;QAEI,IAAG,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,KAAK,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,EAClF;YACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC;SAC7D;IACL,CAAC;IAED,2BAAI,GAAJ;QAEI,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,4BAAK,GAAL;QAEI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,kCAAW,GAAX;QAEI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,CAAC;QAC3C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC/C,CAAC;IAED,OAAO;IACG,mCAAY,GAAtB;IAEA,CAAC;IAED,uBAAuB;IACb,+BAAQ,GAAlB,UAAmB,QAAQ;QAEvB,KAAI,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAG,EAAC;YAC1C,IAAI,IAAI,GAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;YACxB,IAAG,IAAI,EAAC;gBACJ,IAAG,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC,EAAC;oBAC3B,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBACzB;aACJ;SACJ;QAED,QAAQ,CAAC,IAAI,CAAC,UAAS,CAAC,EAAE,CAAC;YACvB,IAAI,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAE7C,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC;YACjB,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC;YAEjB,OAAO,MAAM,GAAG,MAAM,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IA7DD;QADC,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC;2DAC0B;IAGlD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2DAC0B;IAG5C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;wDACuB;IAT1B,YAAY;QADhC,OAAO;OACa,YAAY,CAiEhC;IAAD,mBAAC;CAjED,AAiEC,CAjEyC,EAAE,CAAC,SAAS,GAiErD;kBAjEoB,YAAY","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RankListBase extends cc.Component\r\n{\r\n    @property(cc.ScrollView)\r\n    protected rankingScrollView: cc.ScrollView = null;\r\n\r\n    @property(cc.Node)\r\n    protected scrollViewContent: cc.Node = null;\r\n\r\n    @property(cc.Prefab)\r\n    protected prefabRankItem: cc.Prefab = null;\r\n\r\n    protected onLoad()\r\n    {\r\n        if(cc.director.getWinSize().height / cc.director.getWinSize().width - 16 / 9 > 0.1)\r\n        { \r\n            this.node.scaleY = cc.director.getWinSize().height / 1334;\r\n        }\r\n    }\r\n\r\n    show () \r\n    {\r\n        this.removeChild();\r\n\r\n        this.showRankList();\r\n    }\r\n\r\n    clear()\r\n    {\r\n        this.removeChild();\r\n    }\r\n\r\n    removeChild() \r\n    {\r\n        this.node.removeChildByTag(1000);\r\n        this.scrollViewContent.removeAllChildren();\r\n        this.rankingScrollView.node.active = false;\r\n    }\r\n\r\n    //显示排行榜\r\n    protected showRankList(){\r\n        \r\n    }\r\n\r\n    //排序(ListData：res.data)\r\n    protected dataSort(ListData)\r\n    {\r\n        for(var i = ListData.length - 1; i >= 0; i --){\r\n            var item  = ListData[i];\r\n            if(item){\r\n                if(item.KVDataList.length <= 0){\r\n                    ListData.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        ListData.sort(function(a, b){\r\n            var aScore = parseInt(a.KVDataList[0].value);\r\n            var bScore = parseInt(b.KVDataList[0].value);\r\n\r\n            a.score = aScore;\r\n            b.score = bScore;\r\n\r\n            return bScore - aScore;\r\n        });\r\n    }\r\n}"]}